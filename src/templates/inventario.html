<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<title>Document</title>
</head>
<body>
	<br>
	<br>
	<div class="container">
		<form class="row g-3" action="{{ url_for('producto') }}" method="POST" enctype="multipart/form-data">
			<div class="row">
				<div class="form-floating col-md-2">
					<input type="text" class="form-control" id="codigoProducto" name="codigoProducto" placeholder="Codigo del producto">
					<label for="codigoProducto">Codigo del producto</label>
				</div>
				<div class="form-floating col-md-4">
					<input type="text" class="form-control" id="nombreProducto" name="nombreProducto" placeholder="Nombre del producto">
					<label for="nombreProducto">Nombre del producto</label>
				</div>
				<div class="col-md-2 btn btn-primary btn-lg">
					<button type="submit" class="btn btn-primary" name="buscar" value="buscar">Buscar</button>
				</div>
			</div>
		</form>
		<br>

		{% with messages = get_flashed_messages() %}
			{% if messages %}
				<div id="message" class="row">
				{% for message in messages %}
					<div class='flash'>{{ message }}</div>
				{% endfor %}
				</div>
			{% endif %}
		{% endwith %}

		<div style="height: 300px; overflow-x: hidden; overflow-y: auto;">
			<table class="table table-striped table-bordered table-sm">
				<thead>
					<tr>
						<th scope="col-2">Nombre Prod.</th>
						<th scope="col-6">Rating</th>
						<th scope="col-2">Precio</th>
						<th scope="col-1">% Descuento</th>
						<th scope="col-2">Valor a pagar</th>
						<!-- <th scope="col-1">Precio</th> -->
					</tr>
				</thead>
				<tbody>
					{% for row in data %}
						<tr>
							<td>{{ row[0] }}</td>
							<th scope="row">
								{% for i in range(row[1]) %}
									<i class="bi bi-star-fill" style="font-size: 1rem; color: black;"></i>
								{% endfor %}
							</th>
							<td>{{ row[2] }}</td>
							<td>{{ row[3] }}</td>
							<td>{{ row[4] }}</td>
							<td>{{ row[5] }}</td>
						</tr>
					{% endfor %}
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>